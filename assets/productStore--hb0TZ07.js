import{a as o,m as c}from"./messageStore-fY-w1G04.js";import{j as p,a as s}from"./index-_IHwCnIM.js";import{l}from"./loadingStore-X6ta90sj.js";var m={VITE_APP_SITE:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"ataraxia",BASE_URL:"/2023-Hexschool-Vue-Live-Weekly-Task-06",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SITE:i,VITE_APP_PATH:d}=m,h=p("productStore",{state:()=>({productData:[],product:{},displayImages:{}}),getters:{products:({productData:a})=>[...a].sort((e,t)=>e.price-t.price)},actions:{...s(l,["createLoader","removeLoader"]),...s(c,["errorHandle"]),getProductsData(){this.createLoader("getProductData"),o.get(`${i}/api/${d}/products/all`).then(a=>{const{products:e}=a.data;this.productData=e}).catch(a=>this.errorHandle(a,"error")).finally(()=>this.removeLoader("getProductData"))},getSingleProduct(a){this.createLoader("getSingleProduct"),o.get(`${i}/api/${d}/product/${a}`).then(e=>{this.product=e.data.product;const{imageUrl:t,imagesUrl:r}=e.data.product;this.displayImages.mainImage=t,this.displayImages.images=[t],Array.isArray(r)&&this.displayImages.images.push(...r)}).catch(e=>this.errorHandle(e,"error")).finally(()=>this.removeLoader("getSingleProduct"))},changeDisplay(a){this.displayImages.mainImage=a}}});export{h as p};
